Streamline Plot
~~~~~~~~~~~~~~~

The Streamline plot (example shown in
) shows the behavior of particles in a vector field. The Streamline plot calculates the value of the vector field at seed locations, which are produced by point sources, and integrates through the vector field to create a streamline. Streamlines can be displayed as a line, a tube, or as a ribbon if you also want to show the vorticity of the vector field. Once a set of streamlines is produced, vortices, etc present in the vector field are apparent in the visualization. The Streamline plot is special among VisIt's plots in that it can be modified using VisIt's interactive tools. For instance, if the Streamline plot is set to use a Plane source for its seed points, moving VisIt's Plane tool will move the plane that the Streamline plot uses forcing VisIt to recalculate the plot's streamlines using the new plane. For more information on interactive tools, see the
**Interactive Tools**
chapter.

VisIt's Streamline plot must be initialized more completely before you click the
**Draw**
button to generate the plot. First of all, you must take special care to set the step length, which is the maximum length that will be integrated through the vector field for each step. The step length should be set to a value approximating the average width of the cells in the mesh to ensure that the streamlines are as accurate as possible. After choosing a suitable step length, be sure to specify a maximum number of steps. The maximum number of steps is the number of integrations that will be performed for each streamline. In a vector field that is free of attractors, a larger number for maximum steps will generate longer streamlines.

Making longer streamlines
"""""""""""""""""""""""""

Longer streamlines can be generated by typing a larger value into the
**Maximum steps**
text field. The maximum steps value indicates the maximum number of integrations through the vector field for each streamline. Increasing the maximum steps value allows streamlines to become longer.

Making smoother looking streamlines
"""""""""""""""""""""""""""""""""""

VisIt provides a default value of 1 for the step length taken when integrating a vector field to create streamlines. The step length is the added to the starting location of the streampoint in the direction of the vector field to give the point in the streamline where the process repeats. The value that you need to provide is very much tied to the spatial and data extents of your data but usually smaller values produce smoother looking streamlines. You should take care not to reduce the step length too rapidly because smaller step lengths also result in streamlines that take longer to calculate. Larger step length values result in streamlines that have visible sharp bends but they are faster to calculate. To change the step length, you type a new length into the
**Step length**
text field.

Setting the streamline source
"""""""""""""""""""""""""""""

The Streamline plot's source type determines the geometry of its seed points, which are the points from which streamlines are calculated. Five different source types: Point, Line, Plane, Sphere, and Box are available in the
**Source type menu**
on the
**Streamline source**
tab of the
**Streamline plot attributes window**
. You can select a new source type by selecting one of the source types in the
**Source type menu**
. Once a new source type is selected, the area immediately below the
**Source type menu**
, known as the
**Source type area**
, changes to reflect the source type that was selected. For example, if a Box source type was selected, the
**Source type area**
changes to show the text fields used to specify coordinates for the box.

For Point source types, the
**Source type area**
displays a single text field into which you can type a 3D point to specify the location of the point.

When the source type is set to Line (see
), the
**Source type area**
displays two text fields that allow you to enter 3D points for the start end and locations of the source line. The Streamline plot creates a number of points, specified by the point density, along the length of the source line. More seed points can be added along the length the source line by increasing the point density, which you can do by typing a larger number into the
**Point density**
text field or by clicking on its up arrow. The endpoints of the source line can also be modified using VisIt's interactive Line tool. First make sure that the
Streamline plot is selected in the
**Main Window's Plot list**
and then enable the Line tool using the visualization window's toolbar or its popup menu. When the Line tool is enabled, moving its endpoints supplies the Streamline plot with new endpoints for its source line and the plot calculates new streamlines.

When the source type is set to Plane (see
), the
**Source type area**
displays four text fields that allow you to enter a plane equation for the source plane. To move the source plane, you type a new 3D point into the
**Origin text**
field. To change the orientation of the source plane, you type a new 3D vector, the plane normal, into the
**Normal text**
field. The plane normal is a vector that is perpendicular to the source plane. Together with the plane origin, this is all that is necessary to specify a plane in 3D. However, more information is needed to specify the bounds of the source plane. For this purpose, the
**Streamline plot attributes window**
provides the
**Up axis**
and
**Radius**
text fields. Imagine a square, centered at the plane source origin, that lying in the same plane as the plane source. The distance to one of the square's corners is the plane radius. The plane radius determines the size of the plane source and it can be changed by typing a new value into the
**Radius**
text field. The up axis is a vector lying in the plane that determines which way is up for the square. You can change the up axis by typing a new 3D vector into the
**Up Axis**
text field. The Streamline plot creates a grid of evenly spaced seed points in the square defined by the source plane and source plane radius. The grid has a number of points equal to the point density plus one in both dimensions. The plane source can be modified using the controls in the
**Streamline plot attributes window**
or by using VisIt's interactive Plane tool. When a Streamline plot is selected the
**Plot list**
, moving the plane tool changes the source plane and the plot calculates new streamlines.

When the source type is set to Sphere (see
), the
**Source type area**
displays two text fields that allow you to enter a sphere origin and radius to specify the source sphere. To move the source sphere, type a new 3D point into the
**Origin**
text field. To change the radius of the sphere, you type a new radius value into the
**Radius**
text field. The Streamline plot creates a number of seed points on the surface of the sphere and ,again, the number of points is a function of the point density. The sphere source can be modified using the controls in the window or by using VisIt's interactive sphere tool. When a Streamline plot is selected in the
**Plot list**
, moving the sphere tool changes the source sphere and the plot calculates new streamlines.

When the source type is set to Box (see
), the
**Source type area**
displays three text fields that allow you to enter the minimum and maximum values for the x,y,z dimensions that are used to specify the box source. You can enter new minimum or maximum values by typing in the
**X Extents**
,
**Y Extents**
, or
**Z Extents**
text fields. The Streamline plot creates a 3D grid of evenly spaced seed points in the source box. The grid has a number of points equal to the point density plus one in all three dimensions. The box source can be modified using the window's controls or by using VisIt's interactive Box tool. When a Streamline plot is selected in the
**Plot list**
, moving the box tool changes the source box and calculates new streamlines.

Changing the number of streamlines
""""""""""""""""""""""""""""""""""

The number of streamlines varies depending on the source type but all source types use the point density to determine the number of streamlines. To change the number of streamlines, type a new point density into the
**Point density**
text field in the
**Streamline plot attributes window**
. The point density can easily be incremented or decremented by clicking the up or down arrows next to the
**Point density**
text field.

Setting streamline appearance
"""""""""""""""""""""""""""""

The Streamline plot's streamlines can be drawn as lines, tubes, or ribbons (see
). Drawing the streamlines as lines, which is the default, is faster than drawing them as tubes or ribbons but it is not as visually appealing. When streamlines are drawn as tubes, the streamlines appear thicker and they have can have a small sphere that indicates the streamline's starting point.
When the streamlines are drawn as ribbons, they twist in response to the vector field's vorticity.

To display the streamlines as tubes, you can select Tubes from the
**Display as **
combo box on the
**Streamline plot attributes window's Appearance tab **
(see
). To display the streamlines as ribbons, you can select Ribbons from the
**Display as**
combo box. When streamlines are drawn as tubes, you can elect to show their start position by clicking the
**Show start**
check box. The look of streamline tubes and ribbons can be further modified by changing the radius, which affects the thickness of tubes and ribbons by typing a new value into the
**Radius**
text field. When the Streamline plot is drawn as lines, the line width can be set by selecting a new line width from the
**Line width **
combo box.

Changing the streamline color
"""""""""""""""""""""""""""""

Streamline plots can be colored by the vector field's velocity magnitude, vorticity magnitude, or they can be colored using a constant color. To select the coloring method for the streamlines, select an option from the
**Color by**
combo box and select a color table by selecting a color table from the
**Color table menu**
. If a single color is used for all streamlines, you can set a new color by clicking on the
**Single color**
button and selecting a new color from the
**Popup color menu**
.

Lighting
""""""""

Lighting adds detail and depth to the Streamline plot when streamline tubes are used. The
**Lighting**
check box in the lower part of the
**Streamline plot attributes window**
turns lighting on and off. Since lighting is on by default, uncheck the
**Lighting**
check box to turn lighting off.
